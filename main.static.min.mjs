function x(a,b){return new y(new Uint8ClampedArray(a*b),a)}function A(a,b,c,d,e){for(let f=c;f<c+e;f++)for(let g=b;g<b+d;g++)a.set(g,f,!0)}class y{constructor(a,b){this.width=b;this.height=a.length/b;this.data=a}get(a,b){return 0>a||a>=this.width||0>b||b>=this.height?!1:!!this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c?1:0}}
class C{constructor(a,b,c){this.width=a;a*=b;if(c&&c.length!==a)throw Error("Wrong buffer size");this.data=c||new Uint8ClampedArray(a)}get(a,b){return this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c}}function D(a){return 8*(a.I.length-a.U)-a.C}
function E(a,b){if(1>b||32<b||b>D(a))throw Error("Cannot read "+b.toString()+" bits");var c=0;if(0<a.C){c=8-a.C;var d=b<c?b:c;c-=d;c=(a.I[a.U]&255>>8-d<<c)>>c;b-=d;a.C+=d;8===a.C&&(a.C=0,a.U++)}if(0<b){for(;8<=b;)c=c<<8|a.I[a.U]&255,a.U++,b-=8;0<b&&(d=8-b,c=c<<b|(a.I[a.U]&255>>d<<d)>>d,a.C+=b)}return c}class aa{constructor(a){this.C=this.U=0;this.I=a}}var F,G=F||={};G.Numeric="numeric";G.Alphanumeric="alphanumeric";G.Byte="byte";G.Kanji="kanji";G.ECI="eci";G.StructuredAppend="structuredappend";
var H,I=H||={};I[I.Terminator=0]="Terminator";I[I.Numeric=1]="Numeric";I[I.Alphanumeric=2]="Alphanumeric";I[I.Byte=4]="Byte";I[I.Kanji=8]="Kanji";I[I.ECI=7]="ECI";I[I.StructuredAppend=3]="StructuredAppend";const J="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");function ba(a,b){const c=[];let d="";b=E(a,[8,16,16][b]);for(let e=0;e<b;e++){const f=E(a,8);c.push(f)}try{d+=decodeURIComponent(c.map(e=>`%${("0"+e.toString(16)).substr(-2)}`).join(""))}catch(e){}return{I:c,text:d}}
function ca(a,b){a=new aa(a);const c=9>=b?0:26>=b?1:2;for(b={text:"",I:[],V:[],version:b};4<=D(a);){var d=E(a,4);if(d===H.va)return b;if(d===H.da)0===E(a,1)?b.V.push({type:F.da,fa:E(a,7)}):0===E(a,1)?b.V.push({type:F.da,fa:E(a,14)}):0===E(a,1)?b.V.push({type:F.da,fa:E(a,21)}):b.V.push({type:F.da,fa:-1});else if(d===H.ma){var e=a,f=[];d="";for(var g=E(e,[10,12,14][c]);3<=g;){var h=E(e,10);if(1E3<=h)throw Error("Invalid numeric value above 999");var k=Math.floor(h/100),l=Math.floor(h/10)%10;h%=10;f.push(48+
k,48+l,48+h);d+=k.toString()+l.toString()+h.toString();g-=3}if(2===g){g=E(e,7);if(100<=g)throw Error("Invalid numeric value above 99");e=Math.floor(g/10);g%=10;f.push(48+e,48+g);d+=e.toString()+g.toString()}else if(1===g){e=E(e,4);if(10<=e)throw Error("Invalid numeric value above 9");f.push(48+e);d+=e.toString()}b.text+=d;b.I.push(...f);b.V.push({type:F.ma,text:d})}else if(d===H.ja){e=a;f=[];d="";for(g=E(e,[9,11,13][c]);2<=g;)l=E(e,11),k=Math.floor(l/45),l%=45,f.push(J[k].charCodeAt(0),J[l].charCodeAt(0)),
d+=J[k]+J[l],g-=2;1===g&&(e=E(e,6),f.push(J[e].charCodeAt(0)),d+=J[e]);b.text+=d;b.I.push(...f);b.V.push({type:F.ja,text:d})}else if(d===H.ka)d=ba(a,c),b.text+=d.text,b.I.push(...d.I),b.V.push({type:F.ka,I:d.I,text:d.text});else if(d===H.la){f=a;d=[];e=E(f,[8,10,12][c]);for(g=0;g<e;g++)k=E(f,13),k=Math.floor(k/192)<<8|k%192,k=7936>k?k+33088:k+49472,d.push(k>>8,k&255);f=(new TextDecoder("shift-jis")).decode(Uint8Array.from(d));b.text+=f;b.I.push(...d);b.V.push({type:F.la,I:d,text:f})}else d===H.na&&
b.V.push({type:F.na,Ba:E(a,4),Ha:E(a,4),Ca:E(a,8)})}if(0===D(a)||0===E(a,D(a)))return b}function K(a){return a.D.length-1}function L(a,b){return a.D[a.D.length-1-b]}function M(a,b){if(0===a.D[0])return b;if(0===b.D[0])return a;let c=a.D;b=b.D;c.length>b.length&&([c,b]=[b,c]);const d=new Uint8ClampedArray(b.length),e=b.length-c.length;for(var f=0;f<e;f++)d[f]=b[f];for(f=e;f<b.length;f++)d[f]=c[f-e]^b[f];return new N(a.C,d)}
function O(a,b){let c=0;if(0===b)return L(a,0);const d=a.D.length;if(1===b)return a.D.forEach(e=>{c^=e}),c;c=a.D[0];for(let e=1;e<d;e++)c=P(a.C.multiply(b,c),a.D[e]);return c}
class N{constructor(a,b){if(0===b.length)throw Error("No coefficients.");this.C=a;const c=b.length;if(1<c&&0===b[0]){let d=1;for(;d<c&&0===b[d];)d++;if(d===c)this.D=a.Y.D;else for(this.D=new Uint8ClampedArray(c-d),a=0;a<this.D.length;a++)this.D[a]=b[d+a]}else this.D=b}multiply(a){if(0===a)return this.C.Y;if(1===a)return this;const b=this.D.length,c=new Uint8ClampedArray(b);for(let d=0;d<b;d++)c[d]=this.C.multiply(this.D[d],a);return new N(this.C,c)}}function P(a,b){return a^b}
function Q(a,b,c){if(0>b)throw Error("Invalid monomial degree less than 0");if(0===c)return a.Y;b=new Uint8ClampedArray(b+1);b[0]=c;return new N(a,b)}
class da{constructor(){this.size=256;this.C=Array(this.size);this.U=Array(this.size);var a=1;for(let b=0;b<this.size;b++)this.C[b]=a,a*=2,a>=this.size&&(a=(a^285)&this.size-1);for(a=0;a<this.size-1;a++)this.U[this.C[a]]=a;this.Y=new N(this,Uint8ClampedArray.from([0]));this.sa=new N(this,Uint8ClampedArray.from([1]))}multiply(a,b){return 0===a||0===b?0:this.C[(this.U[a]+this.U[b])%(this.size-1)]}inverse(a){if(0===a)throw Error("Can't invert 0");return this.C[this.size-this.U[a]-1]}log(a){if(0===a)throw Error("Can't take log(0)");
return this.U[a]}exp(a){return this.C[a]}}
function ea(a,b,c,d){K(b)<K(c)&&([b,c]=[c,b]);var e=c;c=a.Y;for(var f=a.sa;K(e)>=d/2;){var g=b;const p=c;b=e;c=f;if(0===b.D[0])return null;e=g;f=a.Y;for(g=a.inverse(L(b,K(b)));K(e)>=K(b)&&0!==e.D[0];){var h=K(e)-K(b),k=a.multiply(L(e,K(e)),g);f=M(f,Q(a,h,k));var l=b;if(0>h)throw Error("Invalid degree less than 0");if(0===k)l=l.C.Y;else{var m=l.D.length;h=new Uint8ClampedArray(m+h);for(var n=0;n<m;n++)h[n]=l.C.multiply(l.D[n],k);l=new N(l.C,h)}e=M(e,l)}if(0===f.D[0]||0===c.D[0])f=f.C.Y;else{g=f.D;
l=g.length;k=c.D;h=k.length;m=new Uint8ClampedArray(l+h-1);for(n=0;n<l;n++){const t=g[n];for(let w=0;w<h;w++)m[n+w]=P(m[n+w],f.C.multiply(t,k[w]))}f=new N(f.C,m)}f=M(f,p);if(K(e)>=K(b))return null}d=L(f,0);if(0===d)return null;a=a.inverse(d);return[f.multiply(a),e.multiply(a)]}
function fa(a,b){const c=new Uint8ClampedArray(a.length);c.set(a);a=new da;var d=new N(a,c),e=new Uint8ClampedArray(b),f=!1;for(var g=0;g<b;g++){var h=O(d,a.exp(g+0));e[e.length-1-g]=h;0!==h&&(f=!0)}if(!f)return c;d=new N(a,e);d=ea(a,Q(a,b,1),d,b);if(null===d)return null;b=d[0];g=K(b);if(1===g)b=[L(b,1)];else{e=Array(g);f=0;for(h=1;h<a.size&&f<g;h++)0===O(b,h)&&(e[f]=a.inverse(h),f++);b=f!==g?null:e}if(null==b)return null;e=d[1];f=b.length;d=Array(f);for(g=0;g<f;g++){h=a.inverse(b[g]);let k=1;for(let l=
0;l<f;l++)g!==l&&(k=a.multiply(k,P(1,a.multiply(b[l],h))));d[g]=a.multiply(O(e,h),a.inverse(k))}for(e=0;e<b.length;e++){f=c.length-1-a.log(b[e]);if(0>f)return null;c[f]^=d[e]}return c}
const R=[{l:null,m:1,o:[],s:[{j:7,i:[{h:1,g:19}]},{j:10,i:[{h:1,g:16}]},{j:13,i:[{h:1,g:13}]},{j:17,i:[{h:1,g:9}]}]},{l:null,m:2,o:[6,18],s:[{j:10,i:[{h:1,g:34}]},{j:16,i:[{h:1,g:28}]},{j:22,i:[{h:1,g:22}]},{j:28,i:[{h:1,g:16}]}]},{l:null,m:3,o:[6,22],s:[{j:15,i:[{h:1,g:55}]},{j:26,i:[{h:1,g:44}]},{j:18,i:[{h:2,g:17}]},{j:22,i:[{h:2,g:13}]}]},{l:null,m:4,o:[6,26],s:[{j:20,i:[{h:1,g:80}]},{j:18,i:[{h:2,g:32}]},{j:26,i:[{h:2,g:24}]},{j:16,i:[{h:4,g:9}]}]},{l:null,m:5,o:[6,30],s:[{j:26,i:[{h:1,g:108}]},
{j:24,i:[{h:2,g:43}]},{j:18,i:[{h:2,g:15},{h:2,g:16}]},{j:22,i:[{h:2,g:11},{h:2,g:12}]}]},{l:null,m:6,o:[6,34],s:[{j:18,i:[{h:2,g:68}]},{j:16,i:[{h:4,g:27}]},{j:24,i:[{h:4,g:19}]},{j:28,i:[{h:4,g:15}]}]},{l:31892,m:7,o:[6,22,38],s:[{j:20,i:[{h:2,g:78}]},{j:18,i:[{h:4,g:31}]},{j:18,i:[{h:2,g:14},{h:4,g:15}]},{j:26,i:[{h:4,g:13},{h:1,g:14}]}]},{l:34236,m:8,o:[6,24,42],s:[{j:24,i:[{h:2,g:97}]},{j:22,i:[{h:2,g:38},{h:2,g:39}]},{j:22,i:[{h:4,g:18},{h:2,g:19}]},{j:26,i:[{h:4,g:14},{h:2,g:15}]}]},{l:39577,
m:9,o:[6,26,46],s:[{j:30,i:[{h:2,g:116}]},{j:22,i:[{h:3,g:36},{h:2,g:37}]},{j:20,i:[{h:4,g:16},{h:4,g:17}]},{j:24,i:[{h:4,g:12},{h:4,g:13}]}]},{l:42195,m:10,o:[6,28,50],s:[{j:18,i:[{h:2,g:68},{h:2,g:69}]},{j:26,i:[{h:4,g:43},{h:1,g:44}]},{j:24,i:[{h:6,g:19},{h:2,g:20}]},{j:28,i:[{h:6,g:15},{h:2,g:16}]}]},{l:48118,m:11,o:[6,30,54],s:[{j:20,i:[{h:4,g:81}]},{j:30,i:[{h:1,g:50},{h:4,g:51}]},{j:28,i:[{h:4,g:22},{h:4,g:23}]},{j:24,i:[{h:3,g:12},{h:8,g:13}]}]},{l:51042,m:12,o:[6,32,58],s:[{j:24,i:[{h:2,
g:92},{h:2,g:93}]},{j:22,i:[{h:6,g:36},{h:2,g:37}]},{j:26,i:[{h:4,g:20},{h:6,g:21}]},{j:28,i:[{h:7,g:14},{h:4,g:15}]}]},{l:55367,m:13,o:[6,34,62],s:[{j:26,i:[{h:4,g:107}]},{j:22,i:[{h:8,g:37},{h:1,g:38}]},{j:24,i:[{h:8,g:20},{h:4,g:21}]},{j:22,i:[{h:12,g:11},{h:4,g:12}]}]},{l:58893,m:14,o:[6,26,46,66],s:[{j:30,i:[{h:3,g:115},{h:1,g:116}]},{j:24,i:[{h:4,g:40},{h:5,g:41}]},{j:20,i:[{h:11,g:16},{h:5,g:17}]},{j:24,i:[{h:11,g:12},{h:5,g:13}]}]},{l:63784,m:15,o:[6,26,48,70],s:[{j:22,i:[{h:5,g:87},{h:1,
g:88}]},{j:24,i:[{h:5,g:41},{h:5,g:42}]},{j:30,i:[{h:5,g:24},{h:7,g:25}]},{j:24,i:[{h:11,g:12},{h:7,g:13}]}]},{l:68472,m:16,o:[6,26,50,74],s:[{j:24,i:[{h:5,g:98},{h:1,g:99}]},{j:28,i:[{h:7,g:45},{h:3,g:46}]},{j:24,i:[{h:15,g:19},{h:2,g:20}]},{j:30,i:[{h:3,g:15},{h:13,g:16}]}]},{l:70749,m:17,o:[6,30,54,78],s:[{j:28,i:[{h:1,g:107},{h:5,g:108}]},{j:28,i:[{h:10,g:46},{h:1,g:47}]},{j:28,i:[{h:1,g:22},{h:15,g:23}]},{j:28,i:[{h:2,g:14},{h:17,g:15}]}]},{l:76311,m:18,o:[6,30,56,82],s:[{j:30,i:[{h:5,g:120},
{h:1,g:121}]},{j:26,i:[{h:9,g:43},{h:4,g:44}]},{j:28,i:[{h:17,g:22},{h:1,g:23}]},{j:28,i:[{h:2,g:14},{h:19,g:15}]}]},{l:79154,m:19,o:[6,30,58,86],s:[{j:28,i:[{h:3,g:113},{h:4,g:114}]},{j:26,i:[{h:3,g:44},{h:11,g:45}]},{j:26,i:[{h:17,g:21},{h:4,g:22}]},{j:26,i:[{h:9,g:13},{h:16,g:14}]}]},{l:84390,m:20,o:[6,34,62,90],s:[{j:28,i:[{h:3,g:107},{h:5,g:108}]},{j:26,i:[{h:3,g:41},{h:13,g:42}]},{j:30,i:[{h:15,g:24},{h:5,g:25}]},{j:28,i:[{h:15,g:15},{h:10,g:16}]}]},{l:87683,m:21,o:[6,28,50,72,94],s:[{j:28,
i:[{h:4,g:116},{h:4,g:117}]},{j:26,i:[{h:17,g:42}]},{j:28,i:[{h:17,g:22},{h:6,g:23}]},{j:30,i:[{h:19,g:16},{h:6,g:17}]}]},{l:92361,m:22,o:[6,26,50,74,98],s:[{j:28,i:[{h:2,g:111},{h:7,g:112}]},{j:28,i:[{h:17,g:46}]},{j:30,i:[{h:7,g:24},{h:16,g:25}]},{j:24,i:[{h:34,g:13}]}]},{l:96236,m:23,o:[6,30,54,74,102],s:[{j:30,i:[{h:4,g:121},{h:5,g:122}]},{j:28,i:[{h:4,g:47},{h:14,g:48}]},{j:30,i:[{h:11,g:24},{h:14,g:25}]},{j:30,i:[{h:16,g:15},{h:14,g:16}]}]},{l:102084,m:24,o:[6,28,54,80,106],s:[{j:30,i:[{h:6,
g:117},{h:4,g:118}]},{j:28,i:[{h:6,g:45},{h:14,g:46}]},{j:30,i:[{h:11,g:24},{h:16,g:25}]},{j:30,i:[{h:30,g:16},{h:2,g:17}]}]},{l:102881,m:25,o:[6,32,58,84,110],s:[{j:26,i:[{h:8,g:106},{h:4,g:107}]},{j:28,i:[{h:8,g:47},{h:13,g:48}]},{j:30,i:[{h:7,g:24},{h:22,g:25}]},{j:30,i:[{h:22,g:15},{h:13,g:16}]}]},{l:110507,m:26,o:[6,30,58,86,114],s:[{j:28,i:[{h:10,g:114},{h:2,g:115}]},{j:28,i:[{h:19,g:46},{h:4,g:47}]},{j:28,i:[{h:28,g:22},{h:6,g:23}]},{j:30,i:[{h:33,g:16},{h:4,g:17}]}]},{l:110734,m:27,o:[6,34,
62,90,118],s:[{j:30,i:[{h:8,g:122},{h:4,g:123}]},{j:28,i:[{h:22,g:45},{h:3,g:46}]},{j:30,i:[{h:8,g:23},{h:26,g:24}]},{j:30,i:[{h:12,g:15},{h:28,g:16}]}]},{l:117786,m:28,o:[6,26,50,74,98,122],s:[{j:30,i:[{h:3,g:117},{h:10,g:118}]},{j:28,i:[{h:3,g:45},{h:23,g:46}]},{j:30,i:[{h:4,g:24},{h:31,g:25}]},{j:30,i:[{h:11,g:15},{h:31,g:16}]}]},{l:119615,m:29,o:[6,30,54,78,102,126],s:[{j:30,i:[{h:7,g:116},{h:7,g:117}]},{j:28,i:[{h:21,g:45},{h:7,g:46}]},{j:30,i:[{h:1,g:23},{h:37,g:24}]},{j:30,i:[{h:19,g:15},{h:26,
g:16}]}]},{l:126325,m:30,o:[6,26,52,78,104,130],s:[{j:30,i:[{h:5,g:115},{h:10,g:116}]},{j:28,i:[{h:19,g:47},{h:10,g:48}]},{j:30,i:[{h:15,g:24},{h:25,g:25}]},{j:30,i:[{h:23,g:15},{h:25,g:16}]}]},{l:127568,m:31,o:[6,30,56,82,108,134],s:[{j:30,i:[{h:13,g:115},{h:3,g:116}]},{j:28,i:[{h:2,g:46},{h:29,g:47}]},{j:30,i:[{h:42,g:24},{h:1,g:25}]},{j:30,i:[{h:23,g:15},{h:28,g:16}]}]},{l:133589,m:32,o:[6,34,60,86,112,138],s:[{j:30,i:[{h:17,g:115}]},{j:28,i:[{h:10,g:46},{h:23,g:47}]},{j:30,i:[{h:10,g:24},{h:35,
g:25}]},{j:30,i:[{h:19,g:15},{h:35,g:16}]}]},{l:136944,m:33,o:[6,30,58,86,114,142],s:[{j:30,i:[{h:17,g:115},{h:1,g:116}]},{j:28,i:[{h:14,g:46},{h:21,g:47}]},{j:30,i:[{h:29,g:24},{h:19,g:25}]},{j:30,i:[{h:11,g:15},{h:46,g:16}]}]},{l:141498,m:34,o:[6,34,62,90,118,146],s:[{j:30,i:[{h:13,g:115},{h:6,g:116}]},{j:28,i:[{h:14,g:46},{h:23,g:47}]},{j:30,i:[{h:44,g:24},{h:7,g:25}]},{j:30,i:[{h:59,g:16},{h:1,g:17}]}]},{l:145311,m:35,o:[6,30,54,78,102,126,150],s:[{j:30,i:[{h:12,g:121},{h:7,g:122}]},{j:28,i:[{h:12,
g:47},{h:26,g:48}]},{j:30,i:[{h:39,g:24},{h:14,g:25}]},{j:30,i:[{h:22,g:15},{h:41,g:16}]}]},{l:150283,m:36,o:[6,24,50,76,102,128,154],s:[{j:30,i:[{h:6,g:121},{h:14,g:122}]},{j:28,i:[{h:6,g:47},{h:34,g:48}]},{j:30,i:[{h:46,g:24},{h:10,g:25}]},{j:30,i:[{h:2,g:15},{h:64,g:16}]}]},{l:152622,m:37,o:[6,28,54,80,106,132,158],s:[{j:30,i:[{h:17,g:122},{h:4,g:123}]},{j:28,i:[{h:29,g:46},{h:14,g:47}]},{j:30,i:[{h:49,g:24},{h:10,g:25}]},{j:30,i:[{h:24,g:15},{h:46,g:16}]}]},{l:158308,m:38,o:[6,32,58,84,110,136,
162],s:[{j:30,i:[{h:4,g:122},{h:18,g:123}]},{j:28,i:[{h:13,g:46},{h:32,g:47}]},{j:30,i:[{h:48,g:24},{h:14,g:25}]},{j:30,i:[{h:42,g:15},{h:32,g:16}]}]},{l:161089,m:39,o:[6,26,54,82,110,138,166],s:[{j:30,i:[{h:20,g:117},{h:4,g:118}]},{j:28,i:[{h:40,g:47},{h:7,g:48}]},{j:30,i:[{h:43,g:24},{h:22,g:25}]},{j:30,i:[{h:10,g:15},{h:67,g:16}]}]},{l:167017,m:40,o:[6,30,58,86,114,142,170],s:[{j:30,i:[{h:19,g:118},{h:6,g:119}]},{j:28,i:[{h:18,g:47},{h:31,g:48}]},{j:30,i:[{h:34,g:24},{h:34,g:25}]},{j:30,i:[{h:20,
g:15},{h:61,g:16}]}]}];function S(a,b){a^=b;for(b=0;a;)b++,a&=a-1;return b}function T(a,b){return b<<1|a}
const ha=[{u:21522,B:{A:1,v:0}},{u:20773,B:{A:1,v:1}},{u:24188,B:{A:1,v:2}},{u:23371,B:{A:1,v:3}},{u:17913,B:{A:1,v:4}},{u:16590,B:{A:1,v:5}},{u:20375,B:{A:1,v:6}},{u:19104,B:{A:1,v:7}},{u:30660,B:{A:0,v:0}},{u:29427,B:{A:0,v:1}},{u:32170,B:{A:0,v:2}},{u:30877,B:{A:0,v:3}},{u:26159,B:{A:0,v:4}},{u:25368,B:{A:0,v:5}},{u:27713,B:{A:0,v:6}},{u:26998,B:{A:0,v:7}},{u:5769,B:{A:3,v:0}},{u:5054,B:{A:3,v:1}},{u:7399,B:{A:3,v:2}},{u:6608,B:{A:3,v:3}},{u:1890,B:{A:3,v:4}},{u:597,B:{A:3,v:5}},{u:3340,B:{A:3,
v:6}},{u:2107,B:{A:3,v:7}},{u:13663,B:{A:2,v:0}},{u:12392,B:{A:2,v:1}},{u:16177,B:{A:2,v:2}},{u:14854,B:{A:2,v:3}},{u:9396,B:{A:2,v:4}},{u:8579,B:{A:2,v:5}},{u:11994,B:{A:2,v:6}},{u:11245,B:{A:2,v:7}}],ja=[a=>0===(a.y+a.x)%2,a=>0===a.y%2,a=>0===a.x%3,a=>0===(a.y+a.x)%3,a=>0===(Math.floor(a.y/2)+Math.floor(a.x/3))%2,a=>0===a.x*a.y%2+a.x*a.y%3,a=>0===(a.y*a.x%2+a.y*a.x%3)%2,a=>0===((a.y+a.x)%2+a.y*a.x%3)%2];
function ka(a,b,c){c=ja[c.v];const d=a.height;var e=17+4*b.m;const f=x(e,e);A(f,0,0,9,9);A(f,e-8,0,8,9);A(f,0,e-8,9,8);for(var g of b.o)for(var h of b.o)6===g&&6===h||6===g&&h===e-7||g===e-7&&6===h||A(f,g-2,h-2,5,5);A(f,6,9,1,e-17);A(f,9,6,e-17,1);6<b.m&&(A(f,e-11,0,3,6),A(f,0,e-11,6,3));b=[];h=g=0;e=!0;for(let k=d-1;0<k;k-=2){6===k&&k--;for(let l=0;l<d;l++){const m=e?d-1-l:l;for(let n=0;2>n;n++){const p=k-n;if(!f.get(p,m)){h++;let t=a.get(p,m);c({y:m,x:p})&&(t=!t);g=g<<1|t;8===h&&(b.push(g),g=h=
0)}}}e=!e}return b}function la(a){var b=a.height,c=Math.floor((b-17)/4);if(6>=c)return R[c-1];c=0;for(var d=5;0<=d;d--)for(var e=b-9;e>=b-11;e--)c=T(a.get(e,d),c);d=0;for(e=5;0<=e;e--)for(let g=b-9;g>=b-11;g--)d=T(a.get(e,g),d);a=Infinity;let f;for(const g of R){if(g.l===c||g.l===d)return g;b=S(c,g.l);b<a&&(f=g,a=b);b=S(d,g.l);b<a&&(f=g,a=b)}if(3>=a)return f}
function ma(a){let b=0;for(var c=0;8>=c;c++)6!==c&&(b=T(a.get(c,8),b));for(c=7;0<=c;c--)6!==c&&(b=T(a.get(8,c),b));var d=a.height;c=0;for(var e=d-1;e>=d-7;e--)c=T(a.get(8,e),c);for(e=d-8;e<d;e++)c=T(a.get(e,8),c);a=Infinity;d=null;for(const {u:f,B:g}of ha){if(f===b||f===c)return g;e=S(b,f);e<a&&(d=g,a=e);b!==c&&(e=S(c,f),e<a&&(d=g,a=e))}return 3>=a?d:null}
function na(a,b,c){const d=b.s[c],e=[];let f=0;d.i.forEach(h=>{for(let k=0;k<h.h;k++)e.push({ha:h.g,$:[]}),f+=h.g+d.j});if(a.length<f)return null;a=a.slice(0,f);b=d.i[0].g;for(c=0;c<b;c++)for(var g of e)g.$.push(a.shift());if(1<d.i.length)for(g=d.i[0].h,b=d.i[1].h,c=0;c<b;c++)e[g+c].$.push(a.shift());for(;0<a.length;)for(const h of e)h.$.push(a.shift());return e}
function oa(a){const b=la(a);if(!b)return null;var c=ma(a);if(!c)return null;a=ka(a,b,c);var d=na(a,b,c.A);if(!d)return null;c=d.reduce((e,f)=>e+f.ha,0);c=new Uint8ClampedArray(c);a=0;for(const e of d){d=fa(e.$,e.$.length-e.ha);if(!d)return null;for(let f=0;f<e.ha;f++)c[a++]=d[f]}try{return ca(c,b.m)}catch(e){return null}}
function pa(a,b,c,d){var e=a.x-b.x+c.x-d.x;const f=a.y-b.y+c.y-d.y;if(0===e&&0===f)return{K:b.x-a.x,L:b.y-a.y,M:0,N:c.x-b.x,O:c.y-b.y,P:0,R:a.x,S:a.y,T:1};const g=b.x-c.x;var h=d.x-c.x;const k=b.y-c.y,l=d.y-c.y;c=g*l-h*k;h=(e*l-h*f)/c;e=(g*f-e*k)/c;return{K:b.x-a.x+h*b.x,L:b.y-a.y+h*b.y,M:h,N:d.x-a.x+e*d.x,O:d.y-a.y+e*d.y,P:e,R:a.x,S:a.y,T:1}}
function qa(a,b,c){a=pa({x:3.5,y:3.5},a,b,c);return{K:a.O*a.T-a.P*a.S,L:a.M*a.S-a.L*a.T,M:a.L*a.P-a.M*a.O,N:a.P*a.R-a.N*a.T,O:a.K*a.T-a.M*a.R,P:a.M*a.N-a.K*a.P,R:a.N*a.S-a.O*a.R,S:a.L*a.R-a.K*a.S,T:a.K*a.O-a.L*a.N}}function ra(a,b){return{K:a.K*b.K+a.N*b.L+a.R*b.M,L:a.L*b.K+a.O*b.L+a.S*b.M,M:a.M*b.K+a.P*b.L+a.T*b.M,N:a.K*b.N+a.N*b.O+a.R*b.P,O:a.L*b.N+a.O*b.O+a.S*b.P,P:a.M*b.N+a.P*b.O+a.T*b.P,R:a.K*b.R+a.N*b.S+a.R*b.T,S:a.L*b.R+a.O*b.S+a.S*b.T,T:a.M*b.R+a.P*b.S+a.T*b.T}}
function sa(a,b){const c=ra(pa(b.ba,b.ca,b.W,b.Z),qa({x:b.F-3.5,y:3.5},{x:b.F-6.5,y:b.F-6.5},{x:3.5,y:b.F-3.5})),d=x(b.F,b.F),e=(f,g)=>{const h=c.M*f+c.P*g+c.T;return{x:(c.K*f+c.N*g+c.R)/h,y:(c.L*f+c.O*g+c.S)/h}};for(let f=0;f<b.F;f++)for(let g=0;g<b.F;g++){const h=e(g+.5,f+.5);d.set(g,f,a.get(Math.floor(h.x),Math.floor(h.y)))}return{ga:d,ea:e}}const U=(a,b)=>Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2));function V(a){return a.reduce((b,c)=>b+c)}
function ta(a,b,c){const d=U(a,b),e=U(b,c),f=U(a,c);let g,h,k;e>=d&&e>=f?[g,h,k]=[b,a,c]:f>=e&&f>=d?[g,h,k]=[a,b,c]:[g,h,k]=[a,c,b];0>(k.x-h.x)*(g.y-h.y)-(k.y-h.y)*(g.x-h.x)&&([g,k]=[k,g]);return{Z:g,ba:h,ca:k}}function ua(a,b,c,d){d=(V(W(a,c,d,5))/7+V(W(a,b,d,5))/7+V(W(c,a,d,5))/7+V(W(b,a,d,5))/7)/4;if(1>d)throw Error("Invalid module size");a=Math.floor((Math.round(U(a,b)/d)+Math.round(U(a,c)/d))/2)+7;switch(a%4){case 0:a++;break;case 2:a--}return{F:a,ra:d}}
function va(a,b,c,d){const e=[{x:Math.floor(a.x),y:Math.floor(a.y)}];var f=Math.abs(b.y-a.y)>Math.abs(b.x-a.x);if(f){var g=Math.floor(a.y);var h=Math.floor(a.x);a=Math.floor(b.y);b=Math.floor(b.x)}else g=Math.floor(a.x),h=Math.floor(a.y),a=Math.floor(b.x),b=Math.floor(b.y);const k=Math.abs(a-g),l=Math.abs(b-h);let m=Math.floor(-k/2);const n=g<a?1:-1,p=h<b?1:-1;let t=!0;for(let w=g,r=h;w!==a+n;w+=n){g=f?r:w;h=f?w:r;if(c.get(g,h)!==t&&(t=!t,e.push({x:g,y:h}),e.length===d+1))break;m+=l;if(0<m){if(r===
b)break;r+=p;m-=k}}c=[];for(f=0;f<d;f++)e[f]&&e[f+1]?c.push(U(e[f],e[f+1])):c.push(0);return c}function W(a,b,c,d){const e=b.y-a.y,f=b.x-a.x;b=va(a,b,c,Math.ceil(d/2));a=va(a,{x:a.x-f,y:a.y-e},c,Math.ceil(d/2));c=b.shift()+a.shift()-1;return a.concat(c).concat(...b)}function X(a,b){const c=V(a)/V(b);let d=0;b.forEach((e,f)=>{d+=Math.pow(a[f]-e*c,2)});return{X:c,error:d}}
function wa(a,b,c){try{const d=W(a,{x:-1,y:a.y},c,b.length),e=W(a,{x:a.x,y:-1},c,b.length),f=W(a,{x:Math.max(0,a.x-a.y)-1,y:Math.max(0,a.y-a.x)-1},c,b.length),g=W(a,{x:Math.min(c.width,a.x+a.y)+1,y:Math.min(c.height,a.y+a.x)+1},c,b.length),h=X(d,b),k=X(e,b),l=X(f,b),m=X(g,b),n=(h.X+k.X+l.X+m.X)/4;return Math.sqrt(h.error*h.error+k.error*k.error+l.error*l.error+m.error*m.error)+(Math.pow(h.X-n,2)+Math.pow(k.X-n,2)+Math.pow(l.X-n,2)+Math.pow(m.X-n,2))/n}catch(d){return Infinity}}
function Y(a,b){for(var c=Math.round(b.x);a.get(c,Math.round(b.y));)c--;for(var d=Math.round(b.x);a.get(d,Math.round(b.y));)d++;c=(c+d)/2;for(d=Math.round(b.y);a.get(Math.round(c),d);)d--;for(b=Math.round(b.y);a.get(Math.round(c),b);)b++;return{x:c,y:(d+b)/2}}
function xa(a){var b=[],c=[];const d=[];var e=[];for(let r=0;r<=a.height;r++){var f=0,g=!1;let q=[0,0,0,0,0];for(let u=-1;u<=a.width;u++){var h=a.get(u,r);if(h===g)f++;else{q=[q[1],q[2],q[3],q[4],f];f=1;g=h;var k=V(q)/7;k=Math.abs(q[0]-k)<k&&Math.abs(q[1]-k)<k&&Math.abs(q[2]-3*k)<3*k&&Math.abs(q[3]-k)<k&&Math.abs(q[4]-k)<k&&!h;var l=V(q.slice(-3))/3;h=Math.abs(q[2]-l)<l&&Math.abs(q[3]-l)<l&&Math.abs(q[4]-l)<l&&h;if(k){const B=u-q[3]-q[4],z=B-q[2];k={H:z,G:B,y:r};l=c.filter(v=>z>=v.bottom.H&&z<=v.bottom.G||
B>=v.bottom.H&&z<=v.bottom.G||z<=v.bottom.H&&B>=v.bottom.G&&1.5>q[2]/(v.bottom.G-v.bottom.H)&&.5<q[2]/(v.bottom.G-v.bottom.H));0<l.length?l[0].bottom=k:c.push({top:k,bottom:k})}if(h){const B=u-q[4],z=B-q[3];h={H:z,y:r,G:B};k=e.filter(v=>z>=v.bottom.H&&z<=v.bottom.G||B>=v.bottom.H&&z<=v.bottom.G||z<=v.bottom.H&&B>=v.bottom.G&&1.5>q[2]/(v.bottom.G-v.bottom.H)&&.5<q[2]/(v.bottom.G-v.bottom.H));0<k.length?k[0].bottom=h:e.push({top:h,bottom:h})}}}b.push(...c.filter(u=>u.bottom.y!==r&&2<=u.bottom.y-u.top.y));
c=c.filter(u=>u.bottom.y===r);d.push(...e.filter(u=>u.bottom.y!==r));e=e.filter(u=>u.bottom.y===r)}b.push(...c.filter(r=>2<=r.bottom.y-r.top.y));d.push(...e);c=[];for(var m of b)2>m.bottom.y-m.top.y||(b=(m.top.H+m.top.G+m.bottom.H+m.bottom.G)/4,e=(m.top.y+m.bottom.y+1)/2,a.get(Math.round(b),Math.round(e))&&(f=[m.top.G-m.top.H,m.bottom.G-m.bottom.H,m.bottom.y-m.top.y+1],f=V(f)/f.length,g=wa({x:Math.round(b),y:Math.round(e)},[1,1,3,1,1],a),c.push({J:g,x:b,y:e,size:f})));if(3>c.length)return null;c.sort((r,
q)=>r.J-q.J);m=[];for(b=0;b<Math.min(c.length,5);++b){e=c[b];f=[];for(var n of c)n!==e&&f.push(Object.assign(Object.assign({},n),{J:n.J+Math.pow(n.size-e.size,2)/e.size}));f.sort((r,q)=>r.J-q.J);m.push({ta:[e,f[0],f[1]],J:e.J+f[0].J+f[1].J})}m.sort((r,q)=>r.J-q.J);const {ca:p,ba:t,Z:w}=ta(...m[0].ta);m=ya(a,d,p,t,w);n=[];m&&n.push({W:{x:m.W.x,y:m.W.y},Z:{x:w.x,y:w.y},F:m.F,ba:{x:t.x,y:t.y},ca:{x:p.x,y:p.y}});m=Y(a,p);b=Y(a,t);c=Y(a,w);(a=ya(a,d,m,b,c))&&n.push({W:{x:a.W.x,y:a.W.y},Z:{x:c.x,y:c.y},
ba:{x:b.x,y:b.y},ca:{x:m.x,y:m.y},F:a.F});return 0===n.length?null:n}
function ya(a,b,c,d,e){let f;try{({F:f,ra:g}=ua(d,c,e,a))}catch(l){return null}var g=(U(d,e)+U(d,c))/2/g;const h=1-3/g,k={x:d.x+h*(c.x-d.x+e.x-d.x),y:d.y+h*(c.y-d.y+e.y-d.y)};b=b.map(l=>{const m=(l.top.H+l.top.G+l.bottom.H+l.bottom.G)/4;l=(l.top.y+l.bottom.y+1)/2;if(a.get(Math.floor(m),Math.floor(l))){var n=wa({x:Math.floor(m),y:Math.floor(l)},[1,1,1],a)+U({x:m,y:l},k);return{x:m,y:l,J:n}}}).filter(l=>!!l).sort((l,m)=>l.J-m.J);return{W:15<=g&&b.length?b[0]:k,F:f}}
function za(a){var b=xa(a);if(!b)return null;for(const e of b){b=sa(a,e);var c=b.ga;if(null==c)c=null;else{var d=oa(c);if(d)c=d;else{for(d=0;d<c.width;d++)for(let f=d+1;f<c.height;f++)c.get(d,f)!==c.get(f,d)&&(c.set(d,f,!c.get(d,f)),c.set(f,d,!c.get(f,d)));c=oa(c)}}if(c)return{wa:c.I,data:c.text,V:c.V,version:c.version,location:{Fa:b.ea(e.F,0),Da:b.ea(0,0),Aa:b.ea(e.F,e.F),xa:b.ea(0,e.F),Ga:e.ca,Ea:e.ba,ya:e.Z,za:e.W},ga:b.ga}}return null}
const Aa={aa:"attemptBoth",pa:{red:.2126,green:.7152,blue:.0722,ua:!1},oa:!0};function Ba(a,b){Object.keys(b).forEach(c=>{a[c]=b[c]})}
function Z(a,b,c,d={}){const e=Object.create(null);Ba(e,Aa);Ba(e,d);d="onlyInvert"===e.aa||"invertFirst"===e.aa;var f="attemptBoth"===e.aa||d,g=e.pa,h=e.oa,k=b*c;if(a.length!==4*k)throw Error("Malformed data passed to binarizer.");var l=0;if(h){var m=new Uint8ClampedArray(a.buffer,l,k);l+=k}m=new C(b,c,m);if(g.ua)for(var n=0;n<c;n++)for(var p=0;p<b;p++){var t=4*(n*b+p);m.set(p,n,g.red*a[t]+g.green*a[t+1]+g.blue*a[t+2]+128>>8)}else for(n=0;n<c;n++)for(p=0;p<b;p++)t=4*(n*b+p),m.set(p,n,g.red*a[t]+g.green*
a[t+1]+g.blue*a[t+2]);g=Math.ceil(b/8);n=Math.ceil(c/8);p=g*n;if(h){var w=new Uint8ClampedArray(a.buffer,l,p);l+=p}w=new C(g,n,w);for(p=0;p<n;p++)for(t=0;t<g;t++){var r=Infinity,q=0;for(var u=0;8>u;u++)for(let v=0;8>v;v++){const ia=m.get(8*t+v,8*p+u);r=Math.min(r,ia);q=Math.max(q,ia)}u=(r+q)/2;u=Math.min(255,1.11*u);24>=q-r&&(u=r/2,0<p&&0<t&&(q=(w.get(t,p-1)+2*w.get(t-1,p)+w.get(t-1,p-1))/4,r<q&&(u=q)));w.set(t,p,u)}h?(p=new Uint8ClampedArray(a.buffer,l,k),l+=k,p=new y(p,b)):p=x(b,c);t=null;f&&(h?
(a=new Uint8ClampedArray(a.buffer,l,k),t=new y(a,b)):t=x(b,c));for(b=0;b<n;b++)for(a=0;a<g;a++){c=g-3;c=2>a?2:a>c?c:a;h=n-3;h=2>b?2:b>h?h:b;k=0;for(l=-2;2>=l;l++)for(r=-2;2>=r;r++)k+=w.get(c+l,h+r);c=k/25;for(h=0;8>h;h++)for(k=0;8>k;k++)l=8*a+h,r=8*b+k,q=m.get(l,r),p.set(l,r,q<=c),f&&t.set(l,r,!(q<=c))}const {ia:B,qa:z}=f?{ia:p,qa:t}:{ia:p};(f=za(d?z:B))||"attemptBoth"!==e.aa&&"invertFirst"!==e.aa||(f=za(d?B:z));return f}Z.default=Z;console.log(Z);
